<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simple Map</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBu2UZd3M_rKwH70wjPPexlaprrTmdVBPQ&libraries=places"></script>
  
</head>

<script>
  let map;
  let service;
  let infowindow;

  function initialize(){
    let pyrmont = new google.maps.LatLng(25.753899, -80.377045);

    map = new google.maps.Map(document.getElementById('map'), {
      center:pyrmont,
      zoom:15
    })

    // Writes the autocomplete feature when you type in the search box 
    let input = document.getElementById('searchTextField');
    let autocomplete = new google.maps.places.Autocomplete(input);
    autocomplete.BindTo('bounds', map);

    // Declaring Markers on map
    let marker = new google.maps.Marker({
      map:map
    })

    google.maps.event.addListener(autocomplete, 'place_change', () => {
      let place = autocomplete.getPlace();
      console.log(place);
      console.log(place.photos[0].getUrl());

      if(place.geometry.viewport){
        map.fitBounds(place.geometry.viewport);
      } else {
        map.setCenter(place.geometry.location);
        map.setZoom(17);
      }
      marker.setPosition(place.geometry.location)
      marker.setVisible(true)
    });

  }

  google.maps.event.addDomListener(window, 'load', initialize)

</script>
<body>
  <input id="searchTextField" type="text" size="50">
  <div id="map" style="height: 500px;"></div>
</body>
</html>